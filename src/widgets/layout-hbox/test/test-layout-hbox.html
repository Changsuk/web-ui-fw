<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>layout-hbox tests</title>

    <style>
    .test-hbox-onehundred {
        height: 100px;
        width: 100px;
        background-color: white;
    }
    .test-hbox-twohundred {
        height: 200px;
        width: 200px;
        background-color: white;
    }
    .test-hbox-threehundred {
        height: 300px;
        width: 300px;
        background-color: white;
    }
    .test-hbox-fourhundred {
        height: 400px;
        width: 400px;
        background-color: white;
    }
    .test-hbox-red {
        background-color: #700;
        color: white;
    }
    .test-hbox-blue {
        background-color: #007;
        color: white;
    }
    </style>

    <script src="../../../../build/web-ui-fw/0.1/js/jquery.js"></script>
    <script src="../../../../build/web-ui-fw/0.1/js/web-ui-fw-libs.js"></script>

    <link rel="stylesheet" href="../../../../build/web-ui-fw/0.1/themes/default/web-ui-fw-theme.css"/>

    <!-- NB needs scrollview first -->
    <link rel="stylesheet" href="../../common/css/jquery.mobile.scrollview.css"/>
    <script src="../../common/js/jquery.easing.1.3.js"></script>
    <script src="../../common/js/jquery.mobile.scrollview.js"></script>

    <!-- for debugging -->
    <script src="../../common/js/ensurens.js"></script>
    <script src="../../common/js/jquery.mobile.todons.core.js"></script>

    <script src="../js/layout-hbox.js"></script>
</head>

<body>

<div data-role="page" id="test-hbox-home">
    <div data-role="header">
        <h1>layout-hbox tests</h1>
    </div>

    <div data-role="content">
        <p>NB as this is the front page, the hbox layout is applied
        every time this page is shown, hence the flicker. Note
        that this doesn't happen on the other pages.</p>

        <div>
            <a href="#test-hbox-content-area" data-role="button" data-inline="true">hbox
            applied directly to div with <code>data-role="content"</code></a>
        </div>

        <p>Here's an example with 10px hgap, scrolling on, but scrollbars off (set
        with <code>data-layout-options='{"hgap":10, "scrollable":true,
        "showScrollBars":false}'</code>).</p>

        <div data-layout="hbox" data-layout-options='{"hgap":10, "scrollable":true, "showScrollBars":false}'>
            <div class="test-hbox-fourhundred">
                <p>Each of the divs laid out by this hbox has a
                size 400px x 400px, set via CSS..</p>
            </div>
            <div class="test-hbox-fourhundred">
                <p>Each of the divs laid out by this hbox has a
                size 400px x 400px, set via CSS..</p>
            </div>
            <div class="test-hbox-fourhundred">
                <p>Each of the divs laid out by this hbox has a
                size 400px x 400px, set via CSS..</p>
            </div>
            <div class="test-hbox-fourhundred">
                <p>Each of the divs laid out by this hbox has a
                size 400px x 400px, set via CSS..</p>
            </div>
            <div class="test-hbox-fourhundred">
                <p>Each of the divs laid out by this hbox has a
                size 400px x 400px, set via CSS..</p>
            </div>
            <div class="test-hbox-fourhundred">
                <p>Each of the divs laid out by this hbox has a
                size 400px x 400px, set via CSS..</p>
            </div>
            <div class="test-hbox-fourhundred">
                <p>Each of the divs laid out by this hbox has a
                size 400px x 400px, set via CSS..</p>
            </div>
            <div class="test-hbox-fourhundred">
                <p>Each of the divs laid out by this hbox has a
                size 400px x 400px, set via CSS..</p>
            </div>
        </div>

        <p>Here's an example with 2px hgap and scrollable off (set
        with <code>data-layout-options='{"hgap":2, "scrollable":false}'</code>).</p>

        <div data-layout="hbox" data-layout-options='{"hgap":2, "scrollable":false}'>
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
        </div>

        <p>Here's an example with 2px hgap and scrollable off (set
        with <code>data-layout-options='{"hgap":2, "scrollable":false}'</code>).
        Notice that layouting can be dynamically applied as children are
        added by calling <code>$(&lt;container&gt;).layouthbox('refresh')</code>.
        Note that children will be clipped as they move out of the end
        of the container (no scrollview is applied in this case).</p>

        <p>
            <a data-role="button" data-inline="true" id="test-hbox-add-start">Add element at start</a>
            <a data-role="button" data-inline="true" id="test-hbox-add-end">Add element at end</a>
            <a data-role="button" data-inline="true" id="test-hbox-add-reset">Reset</a>
        </p>

        <div data-layout="hbox" data-layout-options='{"hgap":2, "scrollable":false}' id="test-hbox-add-container">
            <div class="test-hbox-onehundred">
                <p>tiny tiny tiny tiny tiny tiny</p>
            </div>
        </div>

        <p>Here is an example similar to the above, but with a scrollview.</p>

        <p>
            <a data-role="button" data-inline="true" id="test-hbox-add-start-sv">Add element at start</a>
            <a data-role="button" data-inline="true" id="test-hbox-add-end-sv">Add element at end</a>
            <a data-role="button" data-inline="true" id="test-hbox-add-reset-sv">Reset</a>
        </p>

        <div data-layout="hbox" data-layout-options='{"hgap":2}' id="test-hbox-add-container-sv">
            <div>
                <div class="test-hbox-twohundred">
                    <p>bigger bigger bigger bigger bigger</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-role="page" id="test-hbox-content-area" data-add-back-btn="true">
    <div data-role="header">
        <h1>layout-hbox: applied direct to content</h1>
    </div>

    <div data-role="content" data-layout="hbox" data-layout-options='{"hgap":10}'>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
        <div class="test-hbox-threehundred">
            <p>Each of the divs laid out by this hbox has a
            size 300px x 300px, set via CSS. Horizontal gap is
            configured using <code>data-layout-options='{"hgap":10}'</code>. Note
            that the content area loses its padding, so you might want to
            use a div inside the content area.</p>
        </div>
    </div>
</div>

<script>
$('#test-hbox-home').bind('pagecreate', function () {
    var tinyDiv = $('<div class="test-hbox-onehundred">' +
                    '<p>tiny tiny tiny tiny tiny tiny</p>' +
                    '</div>');

    var biggerDiv = $('<div class="test-hbox-twohundred">' +
                      '<p>bigger bigger bigger bigger bigger!</p>' +
                      '</div>');

    $('#test-hbox-add-start').bind('vclick', function () {
        var newDiv = tinyDiv.clone();
        newDiv.addClass('test-hbox-red');
        $('#test-hbox-add-container').prepend(newDiv);
        $('#test-hbox-add-container').layouthbox('refresh');
    });
    $('#test-hbox-add-end').bind('vclick', function () {
        var newDiv = tinyDiv.clone();
        newDiv.addClass('test-hbox-blue');
        $('#test-hbox-add-container').append(newDiv);
        $('#test-hbox-add-container').layouthbox('refresh');
    });
    $('#test-hbox-add-reset').bind('vclick', function () {
        $('#test-hbox-add-container').find('.test-hbox-blue,.test-hbox-red')
                                     .remove();
        $('#test-hbox-add-container').layouthbox('refresh');
    });

    var container = $('#test-hbox-add-container-sv');

    $('#test-hbox-add-start-sv').bind('vclick', function () {
        var newDiv = biggerDiv.clone();
        newDiv.addClass('test-hbox-red');
        container.find('.ui-scrollview-view').prepend(newDiv);
        container.layouthbox('refresh');
    });
    $('#test-hbox-add-end-sv').bind('vclick', function () {
        var newDiv = biggerDiv.clone();
        newDiv.addClass('test-hbox-blue');
        container.find('.ui-scrollview-view').append(newDiv);
        container.layouthbox('refresh');
    });
    $('#test-hbox-add-reset-sv').bind('vclick', function () {
        container.find('.test-hbox-blue,.test-hbox-red')
                 .remove();
        container.layouthbox('refresh');
    });
});
</script>

</body>
</html>
